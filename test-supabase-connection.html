<!DOCTYPE html>
<html>
<head>
    <title>Test Supabase Connection</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <h1>Testing Supabase Connection</h1>
    <button onclick="testConnection()">Test Connection</button>
    <pre id="result"></pre>

    <script>
        const supabaseUrl = 'https://zvwegbjzkrsjgfyjkyet.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2d2VnYmp6a3JzamdmeWpreWV0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzMzY2OTksImV4cCI6MjA4MzkxMjY5OX0._SoBTr4sUoU2ju3e-gDUx14DvcGXF0ZU6SUJ67i0T-8';
        
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        async function testConnection() {
            const resultEl = document.getElementById('result');
            resultEl.textContent = 'Testing...';
            
            try {
                console.log('Testing connection to:', supabaseUrl);
                
                // Test 1: Simple query
                const { data, error } = await supabase
                    .from('users')
                    .select('*')
                    .eq('email', 'idyllproductionsofficial@gmail.com')
                    .single();
                
                if (error) {
                    resultEl.textContent = 'ERROR:\n' + JSON.stringify(error, null, 2);
                    console.error('Query error:', error);
                } else {
                    resultEl.textContent = 'SUCCESS:\n' + JSON.stringify(data, null, 2);
                    console.log('Query success:', data);
                }
            } catch (err) {
                resultEl.textContent = 'EXCEPTION:\n' + err.message;
                console.error('Exception:', err);
            }
        }
    </script>
</body>
</html>
